#!/usr/bin/env python

"""
Usage:
    market <code>
"""

import sys

from docopt import docopt
import humanize

from market import api


__version__ = '0.0.1'


def main(argv):
    code = argv['<code>']

    nasdaq = api.Nasdaq()
    data = nasdaq.summary(code)

    """
    for key in data:
        print key, data[key]
    """

    print '%s %s' % (code.upper(), data['quote'])
    print '    Market cap:', humanize.intword(data['market_cap'])
    print '    Yield:     ', data['current_yield']


if __name__ == '__main__':
    argv = docopt(__doc__, version=__version__)
    sys.exit(main(argv))
